<!DOCTYPE html>
<html ng-app="app">

<head>
    <title>FlyChoice: Sabre Dev Studio REST APIs</title>
    <link rel="stylesheet" type="text/css" href="stylesheets/bootstrap.css">
    <!-- <link rel="stylesheet" type="text/css" href="stylesheets/inputValidation.main.css"> -->
    <link rel="stylesheet" type="text/css" href="stylesheets/style.css">
    <link rel="stylesheet" type="text/css" href="stylesheets/form.css">
    <link rel="stylesheet" type="text/css" href="stylesheets/datepicker.css">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
    <link rel="stylesheet" type="text/css" href="stylesheets/ui-grid-unstable.css">

</head>

<body>
    <div ng-controller="mainCtrl" class="page">
        <div class="flightChoice">
            <div>
                <span class="main-title">FlyChoice</span>
                <!-- <div class="alert alert-warning alert-dismissible fade in" role="alert">
      <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">Ã—</span></button>
      <strong>Holy guacamole!</strong> Best check yo self, you're not looking too good.
    </div> -->
                <br>
                <span class="sub-title">Choose a Place. Choices Abound.</span>
            </div>
            <form ng-submit="submit()" novalidate>
                <input class="input airports" id="originAirport" type="search" ng-model="origin" name="origin" title="origin" placeholder="Taking Off From..." onfocus="this.placeholder = ''" onblur="this.placeholder = 'Taking Off From...'" validation-min-length="{value:3}" />
                <input class="input airports" id="destinationAirport" type="search" ng-model="destination" name="destination" placeholder="Landing In..." onfocus="this.placeholder = ''" onblur="this.placeholder = 'Landing In...'" validation-min-length="{value:3}" />
                <input class="input dates" placeholder="Leaving..." id="departure" type="search" ng-model="departuredate" validation-min-length="{value:10}" validation-max-length="{value:10}" />
                <input class="input dates" id="return" placeholder="Returning..." type="search" ng-model="returndate" validation-min-length="{value:10}" validation-max-length="{value:10}" />
                <button class="search">Search</button>
            </form>

            <!-- <div ng-if="myData" ui-grid="{ data: myData }" class="myGrid"></div> -->
        </div>

        <div name-of-directive></div>
        <div ng-if="myData">
            <table border="0" class="returnedFlights" align="center" class="main-table">
                <thead>
                    <tr>
                        <th class="cell-headers">Price</th>
                        <th class="cell-headers">Depart</th>
                        <th class="cell-headers">Travel Time</th>
                        <th class="cell-headers">Return</th>
                        <th class="cell-headers">Travel Time</th>
                        <th class="cell-headers">Airline</th>
                        <th class="cell-headers">Stops</th>
                        <th class="cell-headers">On Time Performance</th>
                        <th class="cell-headers">Flight #</th>
                    </tr>
                </thead>
                <tbody ng-repeat="f in informationAboutFlights">
                    <tr ng-if="f && f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[0].FlightSegment.length === 2" style="padding-bottom: 20px;">

                        <td class="flight-info-cells" ng-class-odd="'odd'" ng-class-even="'even'" style="padding-bottom: 20px;">
                            {{f.AirItineraryPricingInfo.ItinTotalFare.TotalFare.Amount | currency }}
                        </td>

                        <td class="flight-info-cells" ng-class-odd="'odd'" ng-class-even="'even'">
                            {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[0].FlightSegment[0].DepartureDateTime | date: 'shortTime'}} Leave 
                            {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[0].FlightSegment[0].DepartureAirport.LocationCode | airportCodeToCity }}
                            <br>
                            {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[0].FlightSegment[0].ArrivalDateTime | date: 'shortTime'}} Land In 
                            {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[0].FlightSegment[0].ArrivalAirport.LocationCode | airportCodeToCity }}
                            <br>
                            {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[0].FlightSegment[1].DepartureDateTime | departureCityFilter }} 
                            {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[0].FlightSegment[1].DepartureAirport.LocationCode | airportCodeToCity }} 
                            <br>
                            {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[0].FlightSegment[1].ArrivalDateTime | arrivalCityFilter | date: 'shortTime' }} {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[0].FlightSegment[1].ArrivalAirport.LocationCode | airportCodeToCity }} 
                        </td>
                        <td class="flight-info-cells center info" ng-class-odd="'odd'" ng-class-even="'even'">Travel Time</td>
                        <!-- RETURNING FLIGHT SEGMENT -->
                        <td class="flight-info-cells" ng-class-odd="'odd'" ng-class-even="'even'">
                            {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[1].FlightSegment[0].DepartureDateTime | date: 'shortTime'}} Leave 
                            {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[1].FlightSegment[0].DepartureAirport.LocationCode | airportCodeToCity}}
                            <br>
                            {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[1].FlightSegment[0].ArrivalDateTime | date: 'shortTime'}} Land In 
                            {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[1].FlightSegment[0].ArrivalAirport.LocationCode | airportCodeToCity }}
                            <br>
                            {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[1].FlightSegment[1].DepartureDateTime | departureCityFilter }} 
                            {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[1].FlightSegment[1].DepartureAirport.LocationCode | airportCodeToCity }}
                            <br>
                            {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[1].FlightSegment[1].ArrivalDateTime | arrivalCityFilter  | date: 'shortTime'}} 
                            {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[1].FlightSegment[1].ArrivalAirport.LocationCode | airportCodeToCity }}
                        <td class="flight-info-cells" ng-class-odd="'odd'" ng-class-even="'even'">
                            {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[0].FlightSegment[0].MarketingAirline.Code | airlineCompanyNameFilter }} 
                        </td>

                        <td class="flight-info-cells" ng-class-odd="'odd'" ng-class-even="'even'">
                            {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[0].ElapsedTime}}
                            <br>
                            {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[1].ElapsedTime}}
                            <br>
                            {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[1].FlightSegment[0].ElapsedTime}}
                            <br>
                            {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[1].FlightSegment[1].ElapsedTime}}
                        </td>

                        <td class="flight-info-cells" ng-class-odd="'odd'" ng-class-even="'even'">
                            {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[0].FlightSegment.length}}
                        </td>

                        <td class="flight-info-cells" ng-class-odd="'odd'" ng-class-even="'even'">
                            {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[1].FlightSegment[1].OnTimePerformance.Level | onTimePerformanceFilter }}
                        </td>

                        <td class="flight-info-cells" ng-class-odd="'odd'" ng-class-even="'even'">
                            {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[0].FlightSegment[0].FlightNumber}} | {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[0].FlightSegment[1].FlightNumber}} | {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[1].FlightSegment[0].FlightNumber}} | {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[1].FlightSegment[1].FlightNumber}}
                        </td>
                    </tr>
                    <!-- FOR ONE FLIGHT SEGMENT -->
                    <tr ng-if="f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[0].FlightSegment.length === 1" class="table-rows">
                        <td class="flight-info-cells" ng-class-odd="'odd'" ng-class-even="'even'">{{f.AirItineraryPricingInfo.ItinTotalFare.TotalFare.Amount | currency}}</td>

                        <!-- Departure Flight -->
                        <td class="flight-info-cells" ng-class-odd="'odd'" ng-class-even="'even'">
                            {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[0].FlightSegment[0].DepartureDateTime | date: 'shortTime' }} Leave {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[0].FlightSegment[0].DepartureAirport.LocationCode | airportCodeToCity }}

                            <br> 

                            {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[0].FlightSegment[0].ArrivalDateTime | date: 'shortTime' }} Land In {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[0].FlightSegment[0].ArrivalAirport.LocationCode | airportCodeToCity}}</td>
                        <!-- End Departure Flight -->
                        <td class="flight-info-cells center info" ng-class-odd="'odd'" ng-class-even="'even'">Travel Time</td>
                        <!-- Return Flight -->
                        <td class="flight-info-cells" ng-class-odd="'odd'" ng-class-even="'even'">
                            {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[0].FlightSegment[0].DepartureDateTime | date: 'shortTime'}} Leave {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[1].FlightSegment[0].DepartureAirport.LocationCode | airportCodeToCity }}

                            <br> 

                            {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[1].FlightSegment[0].ArrivalDateTime | date: 'shortTime'}} Land In {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[1].FlightSegment[0].ArrivalAirport.LocationCode | airportCodeToCity }}
                        </td>

                        <td class="flight-info-cells center info" ng-class-odd="'odd'" ng-class-even="'even'">
                            {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[0].FlightSegment[0].ElapsedTime}}
                        </td>

                        <td class="flight-info-cells center-info" ng-class-odd="'odd'" ng-class-even="'even'">
                            {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[0].FlightSegment[0].MarketingAirline.Code | airlineCompanyNameFilter }}
                        </td>

                        <td class="flight-info-cells center info" ng-class-odd="'odd'" ng-class-even="'even'">Non Stop</td>

                        <td class="flight-info-cells center-info" ng-class-odd="'odd'" ng-class-even="'even'">
                            {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[0].FlightSegment[0].OnTimePerformance.Level | onTimePerformanceFilter }}
                        </td>
                        <td class="flight-info-cells center-info" ng-class-odd="'odd'" ng-class-even="'even'">
                            {{f.AirItinerary.OriginDestinationOptions.OriginDestinationOption[0].FlightSegment[0].FlightNumber}}
                        </td>
                    </tr>
                    <tr><td height="2px"></td></tr>
                </tbody>
            </table>
        </div>


        <div ng-repeat='choice in choiceFlights'>
            <div ng-repeat='c in choice'>
                <!-- There are {{choice.length}} trips for {{choice[0].Theme}} destinations starting at {{choice[0].LowestNonStopFare}}! -->
                Destination: {{c.DestinationLocation}} {{c.LowestFare | currency}} || Theme: {{c.Theme}}
            </div>

            <hr>
        </div>
    </div>


    <script src="//code.jquery.com/jquery-1.10.2.js"></script>
    <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="javascripts/angular.min.js"></script>
    <script type="text/javascript" src="javascripts/ui-grid-unstable.js"></script>
    <script type="text/javascript" src="javascripts/ngapp.js"></script>
    <script type="text/javascript" src="javascripts/mainCtrl.js"></script>
    <script type="text/javascript" src="javascripts/angular-route.js"></script>
    <script type="text/javascript" src="javascripts/apiService.js"></script>
    <script type="text/javascript" src="javascripts/jquery.autocomplete.js"></script>
    <script type="text/javascript" src="javascripts/autocomplete.js"></script>
    <script type="text/javascript" src="javascripts/bootstrap-datepicker.js"></script>
    <script type="text/javascript" src="javascripts/selectDates.js"></script>
    <script type="text/javascript" src="javascripts/angular-ui-form-validation.js"></script>



</body>

</html>